DSEG SEGMENT
MESS DB 10 DUP(?)
DSEG ENDS
EXTRA1 SEGMENT

EXTRA1 ENDS
CSEG SEGMENT
ASSUME CS:CSEG,DS:DSEG
START:
MOV AX,DSEG
MOV DS,AX
MOV AL,0AH
OUT 70H,AL
IN AL,71H
TEST AL,1000B
JNZ START
LEA SI,MESS

MOV AL,0    ;SECOND
CALL STOAL

MOV AL,2    ;minute
CALL STOAL
MOV AL,4    ;hour
CALL STOAL
MOV AL,6    ;day
CALL STOAL
MOV AL,7    ;date
CALL STOAL
MOV AL,8    ;month
CALL STOAL
MOV AL,9    ;year
CALL STOAL
EXIT:
MOV AH,4CH
INT 21H

STOAL PROC
OUT 70H,AL
IN AL,71H
MOV [SI],AL
INC SI
RET
STOAL ENDP

CSEG ENDS
END START
